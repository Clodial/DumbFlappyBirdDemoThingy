package  {		import flash.display.*;	import flash.ui.*;	import flash.events.*;		public class CoinMain extends MovieClip {		/******		/		/	Gravity and Acceleration are floating-points because when getting to bigger and bigger magnitudes, it's pretty bad		/		******/		var gravity:Number;    	//downwards acceleration value		var accel:Number; 		//upwards acceleration value		var vy:Number; 			//Acceleration value		var chPressed:Boolean; 		var pieceSetup:int;		var cInt:int;		var ccInt:int;		var rand:int;		var Block:block = new block();		var Block2:block = new block();		var Block3:block = new block();		var Block4:block = new block();		var Block5:block = new block();		var Block6:block = new block();		var Block7:block = new block();		var Block8:block = new block();		var Block9:block = new block();		var Block10:block = new block();		var Block11:block = new block();		var Block12:block = new block();		var Coin:coin = new coin();		var Coin2:coin = new coin();		var Coin3:coin = new coin();		var Coin4:coin = new coin();		var Coin5:coin = new coin();		var Coin6:coin = new coin();		var Coin7:coin = new coin();		var Coin8:coin = new coin();		var rect1:Shape = new Shape;		var rect2:Shape = new Shape;		var end:winloseicon = new winloseicon();				public function CoinMain() {			cInt = stage.stageWidth + 96;			ccInt = 160;			pieceSetup = 0;			chPressed = false;			accel = .5;			gravity = .5;			player.width = 32;			player.height = 32;			player.x = stage.stageWidth/2;			player.y = stage.stageHeight -192;			vy = 0;			//end.visible = false;			rectangleCreate();			init();		}		public function rectangleCreate():void{			rect1.graphics.beginFill(0x000000); //color fill			rect1.graphics.drawRect(0,0,640,160); //x,y,width,height			rect1.graphics.endFill(); //stops filling			stage.addChild(rect1);			rect2.graphics.beginFill(0x000000);			rect2.graphics.drawRect(0, stage.stageHeight - 160, 640, 160);			rect2.graphics.endFill();			stage.addChild(rect2);		}		public function init():void{			stage.addEventListener(KeyboardEvent.KEY_DOWN, fly); //function for flying upwards			stage.addEventListener(KeyboardEvent.KEY_UP, fall);  //function for falling			stage.addEventListener(Event.ENTER_FRAME, onFrame);  //general frame info		}		public function fly(event:KeyboardEvent):void{			if(event.keyCode == Keyboard.SPACE){				chPressed = true;			}		}		public function fall(event:KeyboardEvent):void{			if(event.keyCode == Keyboard.SPACE){				chPressed = false;			}		}		public function onFrame(event:Event):void{			pieceSetup += 1;			if(pieceSetup == 30){				stage.addChild(Coin2);				Coin2.x = stage.stageWidth-32;				Coin2.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32; 				stage.addChild(Block12);				Block12.x = stage.stageWidth - 32;				Block12.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				while(Coin2.y == Block12.y){					Coin2.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}			}			if(pieceSetup == 60){				stage.addChild(Block);				Block.x = stage.stageWidth-32;				Block.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32; 			}			if(pieceSetup == 90){				stage.addChild(Block2);				Block2.x = stage.stageWidth-32;				Block2.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Coin);				Coin.x = stage.stageWidth-32;				Coin.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				while(Coin.y == Block2.y){					Coin.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}			}			if(pieceSetup == 120){				stage.addChild(Coin3);				Coin3.x = stage.stageWidth - 32;				Coin3.y = (Math.floor(Math.random()*10 + 1)*32) +ccInt - 32;				stage.addChild(Block11);				Block11.x = stage.stageWidth - 32;				Block11.y = (Math.floor(Math.random()*10 + 1)*32) +ccInt - 32;				while(Coin3.y == Block11.y){					Coin3.y = (Math.floor(Math.random()*10 + 1) * 32) + ccInt - 32;				}			}			if(pieceSetup == 150){				stage.addChild(Block3);				Block3.x = stage.stageWidth-32;				Block3.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block4);				Block4.x = stage.stageWidth-32;				Block4.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block5);				Block5.x = stage.stageWidth-32;				Block5.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				while(Block3.y == Block4.y || Block3.y == Block5.y){					Block3.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				while(Block4.y == Block5.y || Block4.y == Block5.y){					Block4.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}			}			if(pieceSetup == 180){				stage.addChild(Coin4);				Coin4.x = stage.stageWidth-32;				Coin4.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Coin5);				Coin5.x = stage.stageWidth-32;				Coin5.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block6);				Block6.x = stage.stageWidth-32;				Block6.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				while(Coin4.y == Block6.y || Coin4.y == Coin5.y){					Coin4.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				while(Coin5.y == Block6.y || Coin5.y == Coin4.y){					Coin5.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}			}			if(pieceSetup == 210){				stage.addChild(Coin6);				Coin6.x = stage.stageWidth-32;				Coin6.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block7);				Block7.x = stage.stageWidth-32;				Block7.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block8);				Block8..x = stage.stageWidth-32;				Block8.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				while(Coin6.y == Block7.y || Coin6.y == Block8.y){					Coin6.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				while(Block7.y == Block8.y || Block7.y == Coin6.y){					Block7.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}			}			if(pieceSetup == 240){				stage.addChild(Coin7)				Coin7.x = stage.stageWidth-32;				Coin7.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Coin8)				Coin8.x = stage.stageWidth-32;				Coin8.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block9)				Block9.x = stage.stageWidth-32;				Block9.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				stage.addChild(Block10)				Block10.x = stage.stageWidth-32;				Block10.y = (Math.floor(Math.random()*10 + 1)*32) + ccInt - 32;				while(Coin7.y == Coin8.y || Coin7.y == Block9.y || Coin7.y == Block10.y){					Coin7.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				while(Coin8.y == Coin7.y || Coin8.y == Block9.y || Coin8.y == Block10.y){					Coin8.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				while(Block9.y == Coin7.y || Block9.y == Coin8.y || Block9.y == Block10.y){					Block9.y = (Math.floor(Math.random()*10 + 1) *32) + ccInt - 32;				}				pieceSetup = 0;			}			if(chPressed && player.y > 160){				vy -= accel;			} else if((chPressed && player.y <= 160) || (!(chPressed) && vy < 0 && player.y <= 160) ){				vy = 0;				player.y = 160;			}						if(!(chPressed) && player.y < stage.stageHeight - 192){				vy += gravity;			} else if((!(chPressed) && player.y >= stage.stageHeight - 192) || (chPressed && vy > 0 && player.y >= stage.stageHeight - 192)){				vy = 0;				player.y = stage.stageHeight - 192;			}			player.y += vy; 			if(player.hitTestObject(Block) || player.hitTestObject(Block2) || player.hitTestObject(Block3) || player.hitTestObject(Block4) || player.hitTestObject(Block5) || player.hitTestObject(Block6) || player.hitTestObject(Block7) || player.hitTestObject(Block8) || player.hitTestObject(Block9) || player.hitTestObject(Block10) || player.hitTestObject(Block11) || player.hitTestObject(Block12)){				if(player.x > -32){					player.x -= 5;				}			}			if(player.hitTestObject(Coin) || player.hitTestObject(Coin2) || player.hitTestObject(Coin3) || player.hitTestObject(Coin4) || player.hitTestObject(Coin5) || player.hitTestObject(Coin6) || player.hitTestObject(Coin7) || player.hitTestObject(Coin8)){				if(player.x < stage.stageWidth - 5 && player.x > -32){					player.x += 5;				}			}			if(player.x < -32){				lose();			}		}		public function lose():void{			addChild(end);					}	}}